<html>
<head>
  <link rel="stylesheet" rev="stylesheet" href="bingo-card.css" />
	<title>BINGO CHANLLENGE</title>
	
	<script type="text/javascript" src="bingo-card.js">
	</script>
</head>
<body>
<h1>Play BINGO</h1>
<table>
	<tr>
		<th width="20%">B</th>
		<th width="20%">I</th>
		<th width="20%">N</th>
		<th width="20%">G</th>
		<th width="20%">O</th>
	</tr>
	<tr>
		<td id="square0">&nbsp;</td>
		<td id="square1">&nbsp;</td>
		<td id="square2">&nbsp;</td>
		<td id="square3">&nbsp;</td>
		<td id="square4">&nbsp;</td>
	</tr>
	<tr>
		<td id="square5">&nbsp;</td>
		<td id="square6">&nbsp;</td>
		<td id="square7">&nbsp;</td>
		<td id="square8">&nbsp;</td>
		<td id="square9">&nbsp;</td>
	</tr>
	<tr>
		<td id="square10">&nbsp;</td>
		<td id="square11">&nbsp;</td>
		<td id="free">Free</td>
		<td id="square12">&nbsp;</td>
		<td id="square13">&nbsp;</td>
	</tr>
	<tr>
		<td id="square14">&nbsp;</td>
		<td id="square15">&nbsp;</td>
		<td id="square16">&nbsp;</td>
		<td id="square17">&nbsp;</td>
		<td id="square18">&nbsp;</td>
	</tr>
	<tr>
		<td id="square19">&nbsp;</td>
		<td id="square20">&nbsp;</td>
		<td id="square21">&nbsp;</td>
		<td id="square22">&nbsp;</td>
		<td id="square23">&nbsp;</td>
	</tr>
</table>
<p><a href="script.html" id="reload">Click here</a> to create a new card</p>
<script> 
window.onload = initAll;
var usedNums = new Array(76);

function initAll() {
  if (document.getElementById) {
    document.getElementById("reload").onclick = anotherCard;
    newCard();
  }
  else{
    alert("Your browser does not support this script.");
  }
}

function newCard() {
  for(var i=0 ; i<24 ; i++){
      setSquare(i);
    }
}

function setSquare(thisSquare){
  var currentSquare = "square" + thisSquare;
  var colPlace = new Array(0,1,2,3,4,0,1,2,3,4,0,1,3,4,0,1,2,3,4,0,1,2,3,4);
  var colBasis = colPlace[thisSquare] * 15;
  var newNum = colBasis + getNewNum() + 1;

  do{
    newNum = colBasis + getNewNum() + 1;
  }while(usedNums[newNum]);
  
  usedNums[newNum] = true;
  document.getElementById(currentSquare).innerHTML = newNum;
}

function getNewNum() {
  return Math.floor(Math.random() * 15);
}

function anotherCard() {
  for (var i = 1; i < usedNums.length; i++) {
    usedNums[i] = false;
  };

  newCard();
  return false;
}
</script>
</body>
</html>